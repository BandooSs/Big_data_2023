# Лабораторная работа №4 
## Задача: 
1. запустить ZooKeeper.  
Запуск произведен с помощью команды "zkServer.cmd".
2. Изучить директорию с установкой ZooKeeper.  
С помощью команды "ls /" получаем список узлов,  а также с помощью "create" создаем новые.
![График](https://github.com/BandooSs/Big_data_2023/blob/main/LR_4/images/1.png)
"stat /mynode" возращает метаданные узла:
![График](https://github.com/BandooSs/Big_data_2023/blob/main/LR_4/images/3.png)
Создаем два нумерованных узла в качестве дочерних mynode:
![График](https://github.com/BandooSs/Big_data_2023/blob/main/LR_4/images/4.png)  
5. Запустить интерактивную сессию ZooKeeper CLI и освоить её команды.
Проверьте в исходной консоли, что grue и bleen являются членами группы mygroup.
![График](https://github.com/BandooSs/Big_data_2023/blob/main/LR_4/images/5.png)  
7. Научиться проводить мониторинг ZooKeeper.
8. Разработать приложение с барьерной синхронизацией, основанной на ZooKeeper.
Каждый философ может либо есть, либо размышлять. Приём пищи не ограничен количеством оставшихся спагетти — подразумевается бесконечный запас. Тем не менее, философ может есть только тогда, когда держит две вилки. Каждый поток - это философ. В функции `eat()`, создается виртуальный "узел" для представления обеда. Философ затем использует `acquire()`, чтобы взять правую и левую вилки, что символизирует начало приема пищи. После этого поток засыпает, отображая фазу еды. Через метод `release()`, семафоры освобождаются, и философ поочередно возвращает вилки, представляя завершение приема пищи. В функции `think()`, виртуальный "узел" обеда удаляется, и поток снова засыпает, олицетворяя фазу размышлений, когда философ задумывается после еды.  
Вариант 2: Первая фаза:  
Координатор уведомляет исполнителей (Worker) о начале транзакции.  
Координатор подписывается на изменения транзакционного узла (устанавливает WATCH на /app/tx).  
Каждый исполнитель создает временный узел /app/tx/node_i с решением commit/abort.  
Исполнитель подписывается на события своего узла, ожидая решения от координатора (это происходит во второй фазе).  
Вторая фаза:  
Координатор принимает решение (исходя из большинства голосов) о commit/abort после ожидания таймаута или создания всех временных узлов исполнителей с решением commit.  
Координатор изменяет значение временных узлов для каждого исполнителя на commit/abort.  
Исполнители применяют или отменяют транзакцию в зависимости от решения.  
Исполнители обновляют значение узла на committed.
